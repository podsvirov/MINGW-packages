# $Id$
# Maintainer: Richard Leys <leys.richard@gmail.com>
# Based on Arch's PKGBUILD

_realname=tcl-nsf
pkgbase=mingw-w64-${_realname}
pkgname="${MINGW_PACKAGE_PREFIX}-${_realname}"
pkgver=2.4.0
pkgrel=1
pkgdesc="Next Scripting Language (mingw-w64)"
arch=('any')
mingw_arch=('mingw32' 'mingw64' 'ucrt64' 'clang64' 'clangarm64' 'clang32')
msys2_references=(
  'aur: nsf'
)
url="https://next-scripting.org"
license=('MIT')
depends=("${MINGW_PACKAGE_PREFIX}-tcl")
makedepends=("${MINGW_PACKAGE_PREFIX}-autotools"
             "${MINGW_PACKAGE_PREFIX}-cc")
source=("https://downloads.sourceforge.net/project/next-scripting/${pkgver}/nsf${pkgver}.tar.gz")
sha256sums=('51bd956d8db19f9bc014bec0909f73659431ce83f835c479739b5384d3bcc1f6')

build() {
  
  cd $srcdir/nsf${pkgver}
  [[ "${MINGW_CHOST}" = 'x86_64-w64-mingw32' ]] && enable64bit='--enable-64bit'

  ./configure --prefix=${MINGW_PREFIX} $enable64bit
  make

}
package() {

  cd $srcdir/nsf${pkgver}
  make DESTDIR="${pkgdir}" install

}
